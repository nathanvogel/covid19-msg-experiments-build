(this["webpackJsonpcovid19-msg-experiments"]=this["webpackJsonpcovid19-msg-experiments"]||[]).push([[0],{10:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADaSURBVHgBPc6tzkYAGMbxy/OozDQSUSHoBGfgYzbnYHMEmuIEJKegMdMIJMVBIAs2Y7zY3ueu93b9fwTP85dlWVjXFWEYIooiGIaBNE2xbRsIz/MuhmFg2zbqugZFUdj3HRzHoaoqfO5DEARIkgTLsiDPcyiKgr7v4TgOiKIorqZpMI4juq4DTdMQRRG6ruM8T3yyLIMsy5im6Z2d5xm3C8MwwDRNEHEcX8dxvM+yLEGSJFiWxQN/TJ878S48Tdd18f1+4fv+z0SoqnoJggBN096mJEn4N7Vtiz//Y2SGjic/yAAAAABJRU5ErkJggg=="},12:function(e,t,n){e.exports=n(28)},17:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(7),s=n.n(a),r=(n(17),n(8)),c=n(1),l=n(2),m=n(9);function d(e,t){var n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);var o=e.RGBA,i=e.RGBA,a=e.UNSIGNED_BYTE,s=new Uint8Array([255,255,255,255]);e.texImage2D(e.TEXTURE_2D,0,o,1,1,0,i,a,s);var r=new Image;return r.onload=function(){e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,o,i,a,r),u(r.width)&&u(r.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))},r.src=t,n}function u(e){return 0===(e&e-1)}var v=n(18);var h=function(){function e(t,n,o){var i=this;Object(c.a)(this,e),this.canvasScale=1,this.didDOM=0,this.options={maxDomNodeCount:0,textures:[],midiBindings:[],midiLogs:!1},this.uniforms={iResolution:{type:"vec3",value:[window.innerWidth*this.canvasScale,window.innerHeight*this.canvasScale,0]},iTime:{type:"float",value:0},iTimeDelta:{type:"float",value:0},iFrame:{type:"int",value:0},iMouse:{type:"vec4",value:[0,0,0,0]},DOM:{type:"vec4",value:[],arraySize:0},DOMColors:{type:"vec4",value:[],arraySize:0}},this.domList=[],this.midiList={},this.debouncedLogMIDIState=v(this.logMIDIState,1e3),this.canvas=void 0,this.gl=void 0,this.vertexShader=void 0,this.fragmentShader=void 0,this.program=void 0,this.vertices=void 0,this.mousedown=!1,this.lastTime=0,this.fpsFilterStrength=20,this.frameTime=0,this.lastLoop=Date.now(),this.thisLoop=Date.now(),this.measureFPS=function(){i.thisLoop=Date.now();var e=i.thisLoop-i.lastLoop;i.frameTime+=(e-i.frameTime)/i.fpsFilterStrength,i.lastLoop=i.thisLoop,1e3/i.frameTime<28&&i.canvasScale>.9&&i.changeCanvasScale(.5)},this.changeCanvasScale=function(e){console.log("Reducing canvas scale to ".concat(e," to increase performance.")),i.canvasScale=e,i.canvas.style.width=100*i.canvasScale+"%",i.canvas.style.height=100*i.canvasScale+"%",i.canvas.style.transform="scale(".concat(1/i.canvasScale,")")},this._bind("mouseDown","mouseMove","mouseUp","render","setupMIDIBindings","onMIDIMessage","logMIDIState","setDOMBindings","updateDOMBindings","setupTextures","measureFPS","changeCanvasScale","ensureCanvasSize","addUniforms"),Object.assign(this.options,o);var a=this.options;this.uniforms.DOM={type:"vec4",value:new Array(4*this.options.maxDomNodeCount).fill(0),arraySize:this.options.maxDomNodeCount},this.uniforms.DOMColors={type:"vec4",value:new Array(4*this.options.maxDomNodeCount).fill(0),arraySize:this.options.maxDomNodeCount},a.additionalUniforms&&this.addUniforms(a.additionalUniforms),this.setupMIDIBindings();var s=a&&a.canvas,r=this.canvas=s?a.canvas:document.createElement("canvas");r.style.position="fixed",r.style.zIndex="-1",r.style.left="0px",r.style.top="0px",r.style.width=100*this.canvasScale+"%",r.style.height=100*this.canvasScale+"%",r.style.transformOrigin="top left",r.style.transform="scale(".concat(1/this.canvasScale,")"),s||document.body.append(r);var l=this.gl=r.getContext("webgl");this.ensureCanvasSize(),l.clearColor(.5,.5,.5,1);var m=this.vertexShader=l.createShader(l.VERTEX_SHADER);l.shaderSource(m,"\n      attribute vec2 position;\n      void main() {\n      gl_Position = vec4(position, 0.0, 1.0);\n      }\n    "),l.compileShader(m);var d=this.fragmentShader=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(d,t),l.compileShader(d);var u=this.program=l.createProgram();l.attachShader(u,m),l.attachShader(u,d),l.linkProgram(u);var h=this.vertices=new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),f=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,f),l.bufferData(l.ARRAY_BUFFER,h,l.STATIC_DRAW),l.useProgram(u);var p=l.getAttribLocation(u,"position");l.enableVertexAttribArray(p),l.vertexAttribPointer(p,2,l.FLOAT,!1,0,0),Object.keys(this.uniforms).forEach((function(e,t){i.uniforms[e].location=l.getUniformLocation(u,e)})),this.setupTextures(),this.reportErrors(),window.addEventListener("mousedown",this.mouseDown),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseUp),"NO_RENDER"!==n&&this.render(Date.now())}return Object(m.a)(e,[{key:"_bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.forEach((function(t){return e[t]=e[t].bind(e)}))}},{key:"mouseDown",value:function(e){this.mousedown=!0,this.uniforms.iMouse.value[2]=e.clientX,this.uniforms.iMouse.value[3]=e.clientY}},{key:"mouseMove",value:function(e){this.mousedown&&(this.uniforms.iMouse.value[0]=e.clientX,this.uniforms.iMouse.value[1]=e.clientY)}},{key:"mouseUp",value:function(e){this.mousedown=!1,this.uniforms.iMouse.value[2]=0,this.uniforms.iMouse.value[3]=0}},{key:"setupTextures",value:function(){var e,t=Object(l.a)(this.options.textures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.uniforms[n.name]={type:"texture",value:d(this.gl,n.url),location:this.gl.getUniformLocation(this.program,n.name)},n.sizeName&&(this.uniforms[n.sizeName]={type:"vec2",value:[n.width,n.height],location:this.gl.getUniformLocation(this.program,n.sizeName)})}}catch(o){t.e(o)}finally{t.f()}}},{key:"addUniforms",value:function(e){Object.assign(this.uniforms,e)}},{key:"setDOMBindings",value:function(e){this.domList=e}},{key:"updateDOMBindings",value:function(){for(var e=this.uniforms.DOM.value,t=this.uniforms.DOMColors.value,n=0;n<this.options.maxDomNodeCount;n+=1)if(n<this.domList.length){var o=this.domList[n].element.getBoundingClientRect();e[4*n+0]=o.left*this.canvasScale,e[4*n+1]=(window.innerHeight-o.top)*this.canvasScale,e[4*n+2]=o.right*this.canvasScale,e[4*n+3]=(window.innerHeight-o.bottom)*this.canvasScale,t[4*n+0]=this.domList[n].color[0],t[4*n+1]=this.domList[n].color[1],t[4*n+2]=this.domList[n].color[2],t[4*n+3]=this.domList[n].flags||0}else e[4*n+0]=0,e[4*n+1]=0,e[4*n+2]=0,e[4*n+3]=0,t[4*n+0]=0,t[4*n+1]=0,t[4*n+2]=0,t[4*n+3]=0}},{key:"setupMIDIBindings",value:function(){for(var e=this.options.midiBindings||[],t=0;t<e.length;t+=1){var n=e[t];if(!Array.isArray(n)||n.length<2)console.log("Invalid MIDI command/note: "+n),console.log("It should be an array of [command, note].");else{var o=n[0]+"_"+n[1],i=n.length>=3&&n[2]?n[2]:{};if("number"!==typeof i){i.variableName=i.variableName||"MIDI"+(t+1);var a="number"==typeof i.initial?i.initial:1;this.uniforms[i.variableName]={type:"float",value:a},this.midiList[o]=i}else console.log("Position number 2 of the MIDI binding options should be an option object.")}}if(this.options&&this.options.midiBindings&&0!==this.options.midiBindings.length);}},{key:"onMIDIMessage",value:function(e){if(this.midiList)if(e){var t=e.data[0]+"_"+e.data[1],n=this.midiList[t];if(n&&n.variableName){var o=e.data[2]/127;null!=n.from&&null!=n.to&&(o=function(e,t,n,o,i){return o+(i-o)*(e-t)/(n-t)}(o,0,1,n.from,n.to)),this.uniforms[n.variableName].value=o,this.debouncedLogMIDIState()}}else console.log("Invalid MIDI message: "+e);else console.log("Missing MIDI list setup.")}},{key:"logMIDIState",value:function(){if(this.options.midiLogs)for(var e in console.log("==== Current MIDI state ===="),this.uniforms)0===e.indexOf("MIDI")&&console.log(e,this.uniforms[e].value.toFixed(2))}},{key:"render",value:function(e){var t=this,n=this.gl,o=this.lastTime?(e-this.lastTime)/1e3:0;this.lastTime=e,this.uniforms.iTime.value+=o,this.uniforms.iTimeDelta.value=o,this.uniforms.iFrame.value++,this.updateDOMBindings(),this.ensureCanvasSize(),n.clear(n.COLOR_BUFFER_BIT),Object.keys(this.uniforms).forEach((function(e){t.didDOM>10&&e.indexOf("iResolution");var o=t.uniforms[e].type;if("texture"===o)n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t.uniforms[e].value),n.uniform1i(t.uniforms[e].location||null,0);else{var i=o.match(/vec/)?"".concat(o[3],"fv"):"1".concat(o[0]);n["uniform".concat(i)](t.uniforms[e].location,t.uniforms[e].value)}})),this.didDOM+=1,n.drawArrays(n.TRIANGLES,0,this.vertices.length/2),requestAnimationFrame(this.render),this.measureFPS()}},{key:"ensureCanvasSize",value:function(){var e=window.innerWidth*this.canvasScale,t=window.innerHeight*this.canvasScale;this.canvas.width==e&&this.canvas.height==t||(this.canvas.width=this.uniforms.iResolution.value[0]=e,this.canvas.height=this.uniforms.iResolution.value[1]=t,this.gl.viewport(0,0,this.canvas.width,this.canvas.height))}},{key:"reportErrors",value:function(){var e=this.gl;e.getShaderParameter(this.vertexShader,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(this.vertexShader)),e.getShaderParameter(this.fragmentShader,e.COMPILE_STATUS)||console.log(e.getShaderInfoLog(this.fragmentShader)),e.getProgramParameter(this.program,e.LINK_STATUS)||console.log(e.getProgramInfoLog(this.program))}}]),e}(),f=n(10),p=n.n(f),g=n(11);function x(){var e=Object(r.a)(["\nprecision highp float;\nprecision highp int;\n#define HIGH_PRECISION\n#define GAMMA_FACTOR 2\n#define TONE_MAPPING\n#pragma vscode_glsllint_stage : frag\n\nuniform vec3 iResolution;\nuniform float iTime;\nuniform vec4 DOMColors [20];\nuniform vec4 DOM [20];\nuniform sampler2D texture1;\nuniform vec2 _DitherPattern_TexelSize;\nuniform float noise1Speed;\nuniform float noise2Speed;\nuniform float noise1Motion;\nuniform float noise2Motion;\nuniform float noise1Scale;\nuniform float noise2Scale;\nuniform float blurSize;\nuniform float padSize;\nuniform float ditherStrength;\nuniform float ditherMotion;\n\n\n/**\n * Drawing assumed to be from front to back stage (i.e. closest first):\n * (which allows to stop as soon as opacity is 100% or above some threshold like 99.5%)\n */\nvec4 composeFTB(vec4 current, vec4 layer) {\n  return current + (1.0 - current.a) * vec4(layer.rgb, 1) * layer.a;\n}\n\n/**\n * Drawing assumed to be from back to front stage (i.e. closest last):\n */\nvec4 composeBTF(vec4 current, vec4 layer) {\n  return mix(current, vec4(layer.rgb, 1.0), layer.a);\n}\n\n\n//  Simplex 3D Noise \n//  by Ian McEwan, Ashima Arts\n//\nvec4 permute_08(vec4 x) {\n    return mod(((x*34.0)+1.0)*x, 289.0);\n}\nvec4 taylorInvSqrt_08(vec4 r){\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nfloat simplex3DNoise(vec3 v){ \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //  x0 = x0 - 0. + 0.0 * C \n  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n  // Permutations\n  i = mod(i, 289.0 ); \n  vec4 p = permute_08( permute_08( permute_08( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients\n  // ( N*N points uniformly over a square, mapped onto an octahedron.)\n  float n_ = 1.0/7.0; // N=7\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt_08(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\nfloat simplexFractal3DNoise(vec3 m) {\n\treturn   0.5333333 * simplex3DNoise(m)\n            +0.2666667 * simplex3DNoise(2.0*m)\n            +0.1333333 * simplex3DNoise(4.0*m)\n            +0.0666667 * simplex3DNoise(8.0*m);\n}\n\n// const matrices for 3d rotation\nconst mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\nconst mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\nconst mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\n\n// directional artifacts can be reduced by rotating each octave\nfloat simplexFractal3DNoise2(vec3 m) {\n    return 0.5333333*simplex3DNoise(m*rot1)\n      +0.2666667*simplex3DNoise(2.0*m*rot2)\n      +0.1333333*simplex3DNoise(4.0*m*rot3)\n      +0.0666667*simplex3DNoise(8.0*m);\n}\n\n\n// www.shadertoy.com/view/XsX3zB\n// by Nikita Miropolskiy\n\n// discontinuous pseudorandom uniformly distributed in [-0.5, +0.5]^3\nvec3 random3_10(vec3 c) {\n\tfloat j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n\tvec3 r;\n\tr.z = fract(512.0*j);\n\tj *= .125;\n\tr.x = fract(512.0*j);\n\tj *= .125;\n\tr.y = fract(512.0*j);\n\treturn r-0.5;\n}\n\n// skew constants for 3d simplex functions\nconst float F3_10 =  0.3333333;\nconst float G3_10 =  0.1666667;\nfloat simplex3DNoise_10(vec3 p) {\n\t // 1. find current tetrahedron T and it's four vertices\n\t // s, s+i1, s+i2, s+1.0 - absolute skewed (integer) coordinates of T vertices\n\t // x, x1, x2, x3 - unskewed coordinates of p relative to each of T vertices\n\t \n\t // calculate s and x\n\t vec3 s = floor(p + dot(p, vec3(F3_10)));\n\t vec3 x = p - s + dot(s, vec3(G3_10));\n\t \n\t // calculate i1 and i2\n\t vec3 e = step(vec3(0.0), x - x.yzx);\n\t vec3 i1 = e*(1.0 - e.zxy);\n\t vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\t \t\n\t // x1, x2, x3\n\t vec3 x1 = x - i1 + G3_10;\n\t vec3 x2 = x - i2 + 2.0*G3_10;\n\t vec3 x3 = x - 1.0 + 3.0*G3_10;\n\t \n\t // 2. find four surflets and store them in d\n\t vec4 w, d;\n\t \n\t // calculate surflet weights\n\t w.x = dot(x, x);\n\t w.y = dot(x1, x1);\n\t w.z = dot(x2, x2);\n\t w.w = dot(x3, x3);\n\t \n\t // w fades from 0.6 at the center of the surflet to 0.0 at the margin\n\t w = max(0.6 - w, 0.0);\n\t \n\t // calculate surflet components\n\t d.x = dot(random3_10(s), x);\n\t d.y = dot(random3_10(s + i1), x1);\n\t d.z = dot(random3_10(s + i2), x2);\n\t d.w = dot(random3_10(s + 1.0), x3);\n\t \n\t // multiply d by w^4\n\t w *= w;\n\t w *= w;\n\t d *= w;\n\t \n\t // 3. return the sum of the four surflets\n\t return dot(d, vec4(52.0));\n}\n\nfloat simplexFractal3DNoise_10(vec3 m) {\n\treturn   0.5333333 * simplex3DNoise_10(m)\n            +0.2666667 * simplex3DNoise_10(2.0*m)\n            +0.1333333 * simplex3DNoise_10(4.0*m)\n            +0.0666667 * simplex3DNoise_10(8.0*m);\n}\n\n// const matrices for 3d rotation\nconst mat3 rot1_10 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\nconst mat3 rot2_10 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\nconst mat3 rot3_10 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\n\n// directional artifacts can be reduced by rotating each octave\nfloat simplexFractal3DNoise2_10(vec3 m) {\n    return 0.5333333*simplex3DNoise_10(m*rot1_10)\n      +0.2666667*simplex3DNoise_10(2.0*m*rot2_10)\n      +0.1333333*simplex3DNoise_10(4.0*m*rot3_10)\n      +0.0666667*simplex3DNoise_10(8.0*m);\n}\n\n\n//   _   _  _____ ______  _____  _   _  _____  _____ \n//  | | | ||  _  || ___ |  _  ||  | ||  _  ||_   _|\n//  | | | || | | || |_/ /| | | ||  | || | | |  | |  \n//  | | | || | | ||    / | | | || . ' || | | |  | |  \n//   _/ / _/ /| |   _/ /| |  | _/ / _| |_ \n//   ___/  ___/ _| _| ___/ _| _/ ___/  ___/ \n//                                                   \n//                                                   \n\n// by inigo quilez http://iquilezles.org/www/articles/voronoise/voronoise.htm\n// https://www.shadertoy.com/view/Xd23Dh\n//\n\nvec3 hash3_11( vec2 p ){\n    vec3 q = vec3( dot(p,vec2(127.1,311.7)), \n\t\t\t\t   dot(p,vec2(269.5,183.3)), \n\t\t\t\t   dot(p,vec2(419.2,371.9)) );\n\treturn fract(sin(q)*43758.5453);\n}\n\nfloat voroNoise_iq( in vec2 x, float u, float v ){\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n\t\t\n\tfloat k = 1.0+63.0*pow(1.0-v,4.0);\n\t\n\tfloat va = 0.0;\n\tfloat wt = 0.0;\n    for( int j=-2; j<=2; j++ )\n    for( int i=-2; i<=2; i++ )\n    {\n        vec2 g = vec2( float(i),float(j) );\n\t\tvec3 o = hash3_11( p + g )*vec3(u,u,1.0);\n\t\tvec2 r = g - f + o.xy;\n\t\tfloat d = dot(r,r);\n\t\tfloat ww = pow( 1.0-smoothstep(0.0,1.414,sqrt(d)), k );\n\t\tva += o.z*ww;\n\t\twt += ww;\n    }\n\t\n    return va/wt;\n}\n\n//\thttps://www.shadertoy.com/view/lsjGWD\n//\tby Pietro De Nicola\n//\n// Use:\n// vec2 p = gl_FragCoord.xy/iResolution.xx;\n// float c = POWER*fbm( SCALE*p ) + BIAS;\n#define OCTAVES_12   \t\t1\t\t// 7\n#define SWITCH_TIME_12 \t5.0\t\t// seconds\n\nvec2 hash_12( vec2 p ){\n\tp = vec2( dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3)));\n\treturn fract(sin(p)*43758.5453);\n}\n\nfloat voronoi_12( in vec2 x, float type, float speed ){\n    // When calculating FBM noise, these first variables could be optimized\n    // as they are the same for each octave.\n    float function_12 \t\t\t= mod(type, 4.0);\n    bool  multiply_by_F1_12\t    = mod(type, 8.0)  >= 4.0;\n    bool  inverse_12\t\t\t= mod(type, 16.0) >= 8.0;\n    float distance_type_12\t    = mod(type/16.0, 4.0);\n\n\tvec2 n = floor( x );\n\tvec2 f = fract( x );\n\t\n\tfloat F1 = 8.0;\n\tfloat F2 = 8.0;\n\t\n\tfor( int j=-1; j<=1; j++ )\n\t\tfor( int i=-1; i<=1; i++ ){\n\t\t\tvec2 g = vec2(i,j);\n\t\t\tvec2 o = hash_12( n + g );\n\n\t\t\to = 0.5 + 0.41*sin(speed * iTime + 6.2831*o );\t\n\t\t\tvec2 r = g - f + o;\n\n\t\tfloat d = \tdistance_type_12 < 1.0 ? dot(r,r)  :\t\t\t\t// euclidean^2\n\t\t\t\t  \tdistance_type_12 < 2.0 ? sqrt(dot(r,r)) :\t\t\t// euclidean\n\t\t\t\t\tdistance_type_12 < 3.0 ? abs(r.x) + abs(r.y) :\t\t// manhattan\n\t\t\t\t\tdistance_type_12 < 4.0 ? max(abs(r.x), abs(r.y)) :\t// chebyshev\n\t\t\t\t\t0.0;\n\n\t\tif( d<F1 ) { \n\t\t\tF2 = F1; \n\t\t\tF1 = d; \n\t\t} else if( d<F2 ) {\n\t\t\tF2 = d;\n\t\t}\n    }\n\t\n\tfloat c = function_12 < 1.0 ? F1 : \n\t\t\t  function_12 < 2.0 ? F2 : \n\t\t\t  function_12 < 3.0 ? F2-F1 :\n\t\t\t  function_12 < 4.0 ? (F1+F2)/2.0 : \n\t\t\t  0.0;\n\t\t\n\tif( multiply_by_F1_12 )\tc *= F1;\n\tif( inverse_12 )\t\t\tc = 1.0 - c;\n\t\n    return c;\n}\n\nfloat voronoi_12( in vec2 x ){\n    float t = iTime/SWITCH_TIME_12;\n    return voronoi_12(x, t, 1.0);\n}\n\nfloat voronoiFBM_12( in vec2 p ){\n\tfloat s = 0.0;\n\tfloat m = 0.0;\n\tfloat a = 0.5;\n\t\n\tfor( int i=0; i<OCTAVES_12; i++ ){\n\t\ts += a * voronoi_12(p);\n\t\tm += a;\n\t\ta *= 0.5;\n\t\tp *= 2.0;\n\t}\n\treturn s/m;\n}\n\n// --- From http://www.madebyevan.com/shaders/fast-rounded-rectangle-shadows/\n// License: CC0 (http://creativecommons.org/publicdomain/zero/1.0/)\n/**\n * Faster way to draw box shadows and blurred rectangles.\n * Return the mask for the shadow of a box from lower to upper\n * sigma: size of the shadow, ~ in the given unit\n **/ \n// This approximates the error function, needed for the gaussian integral\nvec4 erf(vec4 x) {\n  vec4 s = sign(x), a = abs(x);\n  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\n  x *= x;\n  return s - s / (x * x);\n}\n// Return the mask for the shadow of a box from lower to upper\nfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) {\n  // Nathan Vogel: Optimize by not calculating beyond the blur distance. \n  // 2.5 seems about correct, 2.3 might cut a tiny bit.\n  if (point.y < lower.y - sigma * 2.3) return 0.0;\n  if (point.y > upper.y + sigma * 2.3) return 0.0;\n  if (point.x < lower.x - sigma * 2.3) return 0.0;\n  if (point.x > upper.x + sigma * 2.3) return 0.0;\n  vec4 query = vec4(point - lower, point - upper);\n  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma));\n  return (integral.z - integral.x) * (integral.w - integral.y);\n}\n// --- End of: From madebyevan.com --------------------\n\n\nvec2 remapDither(vec2 v) {\n  return (mod(v, _DitherPattern_TexelSize)) / _DitherPattern_TexelSize;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 coord = fragCoord;\n  vec2 baseP = 2.0 * (coord.xy - iResolution.xy) / iResolution.y;\n  vec2 uv = coord.xy / iResolution.xy;\n\n  vec4 color = vec4(1.0);\n\n  for (int i = 0; i < 20; i += 1) {\n    float height = DOM[i].y - DOM[i].w;\n    // Skip the ones without height (= not bound to a node.)\n    if (height == 0.0) { continue; }\n\n    // Attempt to calculate a resonnable blur\n    float blur = blurSize * max(iResolution.x, iResolution.y) * min(height, iResolution.y / 2.0) * 0.00015;\n    // TODO: change the visual FX when the user is still typing.\n    // if (DOMColors[i].w == 1.0) { blur = blur / 20.0; }\n\n    // Create a fast blurred rectangle (I remapped coordinates through trial and error).\n    // This box shadow blur also blurs inside the original rect, so we add some padding \n    // to account for it.\n    vec2 pad = padSize * vec2(blur * 1.0);\n    float rect = boxShadow(DOM[i].xw - pad, DOM[i].zy + pad, coord, blur);\n    // Optimize by not calculating any noise etc. where it won't be seen.\n    if (rect < 10.0/256.0) { continue; }\n    float rectNeg = 1.0 - rect;\n\n    vec2 p = baseP / (25.0 + blur) * 800.0;\n    vec2 noiseSpeed = -vec2(0.2, 0.7) * iTime;\n    float noise = voronoi_12(\n      noise1Scale * 0.5 * p \n      + noise1Motion * 1.8 * noiseSpeed, \n      23.0, \n      noise1Speed * 2.0\n    ); \n    float noise2 = simplex3DNoise(vec3(\n      noise2Scale * p * 0.15 \n      + noise2Motion * 0.5 * noiseSpeed, \n      noise2Speed * 0.3 * iTime\n    ));\n    float mask = mix(rect, noise * rect, rectNeg);\n    mask = mix(mask, noise2 * mask , rectNeg);\n\n    // Only compute dither where it might be visible\n    if (mask > 0.02) {\n      vec2 displacement = -15.0 * vec2(noise, noise2);\n      vec2 dc = remapDither(fragCoord + displacement + ditherMotion * 70.0 * noiseSpeed);\n      float dither = texture2D(texture1, dc).x;\n      mask += ditherStrength * 1.0 * noise2 * rectNeg * smoothstep(0.0, dither, mask);\n    }\n\n    // Compose all messages one after the other.\n    color = composeBTF(color, vec4(DOMColors[i].xyz, mask));\n  }\n\n  fragColor = color;\n}\n\nvoid main() {\n  mainImage(gl_FragColor, gl_FragCoord.xy);\n}\n      "]);return x=function(){return e},e}var y=function e(t){var n=this;if(Object(c.a)(this,e),this.pen=void 0,this.gui=new g.a.GUI,this.controlledUniforms={noise1Speed:{type:"float",value:1},noise1Motion:{type:"float",value:1},noise1Scale:{type:"float",value:1},noise2Speed:{type:"float",value:1},noise2Motion:{type:"float",value:1},noise2Scale:{type:"float",value:1},blurSize:{type:"float",value:1},padSize:{type:"float",value:1},ditherStrength:{type:"float",value:1},ditherMotion:{type:"float",value:1}},this.setMessages=function(e){n.pen.setDOMBindings(e)},this.pen=new h(x().toString(),"NO_RENDER",Object.assign({textures:[{name:"texture1",url:p.a,width:8,height:8,sizeName:"_DitherPattern_TexelSize"}],midiBindings:[],additionalUniforms:this.controlledUniforms},t)),t.showDatGui){var o=this.pen.uniforms,i=this.gui;i.add(o.noise1Speed,"value",0,5).name("Noise 1 Speed"),i.add(o.noise1Motion,"value",-5,5).name("Noise 1 Motion"),i.add(o.noise1Scale,"value",0,5).name("Noise 1 Scale"),i.add(o.noise2Speed,"value",0,5).name("Noise 2 Speed"),i.add(o.noise2Motion,"value",-5,5).name("Noise 2 Motion"),i.add(o.noise2Scale,"value",0,5).name("Noise 2 Scale"),i.add(o.blurSize,"value",0,5).name("Blur Scale"),i.add(o.padSize,"value",-2,5).name("Pad Scale"),i.add(o.ditherStrength,"value",0,3).name("Dither Strength"),i.add(o.ditherMotion,"value",-2,2).name("Dither Motion")}this.pen.render()};var _=function(){return Object(o.useEffect)((function(){for(var e=new y({midiBindings:[],midiLogs:!1,showDatGui:!0,maxDomNodeCount:20,canvas:document.getElementById("background")}),t=[],n=document.getElementsByClassName("message"),o=0;o<n.length;o+=1)t.push({element:n[o],color:[o/n.length,Math.random(),Math.random()],draft:!1});e.setMessages(t)}),[]),i.a.createElement("div",{id:"ui"},i.a.createElement("div",{contentEditable:"true",suppressContentEditableWarning:!0,className:"message big draft"},"Type here..."),i.a.createElement("div",{className:"message big"},"#StayHome"),i.a.createElement("div",{className:"message big"},"This is not a drill."),i.a.createElement("div",{className:"message big"},"\u201cCulture is technoculture.\u201d"),i.a.createElement("div",{className:"message big"},"\u201cArguing that you don't care about the right to privacy because you have nothing to hide is no different than saying you don't care about free speech because you have nothing to say.\u201d"),i.a.createElement("div",{className:"message big"},"Why are people still going outside?"),i.a.createElement("div",{className:"message"},"The streets are empty..."),i.a.createElement("div",{className:"message"},"Hi"),i.a.createElement("div",{className:"message"},"The city is so quiet."),i.a.createElement("div",{className:"message"},"\u201cReal, total war has become information war. It is being fought by subtle electric informational media- under cold conditions, and constantly. The cold war is the real war front- a surround- involving everybody- all the time- everywhere. Whenever hot wars are necessary these days, we conduct them in the backyards of the world with the old technologies. These wars are happenings, tragic games. It is no longer convenient, or suitable, to use the latest technologies for fighting our wars, because the latest technologies have rendered wars meaningless. The hydrogen bomb is history\u2019s exclamation point.\u201d"),i.a.createElement("div",{className:"message big"},"\u201cI arise in the morning torn between a desire to improve (or save) the world and a desire to enjoy (or savor) the world.\u201d"),i.a.createElement("div",{className:"message big"},"I'm #StayingAtHome"))};s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(_,null)),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.7ccbd983.chunk.js.map